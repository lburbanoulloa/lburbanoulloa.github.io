function UGTheme_tilesgrid(){function e(e,n){y=e,j=jQuery.extend(j,G),j=jQuery.extend(j,n),t(),y.setOptions(j),y.setFreestyleMode(),c=e.getObjects(),m=jQuery(e),p=c.g_objWrapper,I.init(e,j),T.init(e,j,!0),L=T.getObjTileDesign()}function t(){j.grid_num_rows||(j.grid_num_rows=9999),j.bullets_addclass="ug-bullets-"+j.theme_bullets_color}function n(){var e=y.getSize().width;return e-=2*j.theme_gallery_padding}function i(){if("bullets"==j.theme_navigation_type){f=new UGBullets;var e=n(),t=T.getNumPanesEstimationByWidth(e),i=y.getOptions();f.init(y,i,t)}if(p.addClass("ug-theme-tilesfixed"),T.setHtml(),f&&f.appendHTML(p),"arrows"==j.theme_navigation_type){var a="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";a+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",a+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",a+="</div>",p.append(a),v=p.children(".ug-tile-navigation-wrapper"),b=v.children(".ug-button-tile-left"),E=v.children(".ug-button-tile-right"),b.css("margin-right",j.theme_space_between_arrows+"px")}I.putHtml(),p.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(w=p.children(".ug-tiles-preloader")).fadeTo(0,0)}function a(e){var t=T.getHeightEstimationByWidth(e);return T.getNumPanesEstimationByWidth(e)>1&&("arrows"==j.theme_navigation_type?(t+=j.theme_arrows_margin_top,t+=30):(t+=j.theme_bullets_margin_top,t+=15)),t}function o(){var e=a(t=n());p.height(e);var t=n();h(),B.placeElement(w,j.theme_grid_align,50),T.setWidth(t),T.run(),I.run(),s(),l()}function r(){i(),o()}function l(){y.getSize();var e=T.getSize(),t=T.getElement();B.placeElement(t,j.theme_grid_align,0);var n=(e=T.getSize()).height;if(T.getNumPanes()>1){if(f){f.getElement().show();var i=f.getElement(),a=f.getBulletsWidth(),o=e.left+B.getElementRelativePos(a,j.theme_navigation_align,j.theme_navigation_offset_hor,t);B.placeElement(i,o,n+j.theme_bullets_margin_top),n=B.getElementSize(i).bottom}if(v){v.show();var r=e.left+B.getElementRelativePos(v,j.theme_navigation_align,j.theme_navigation_offset_hor,t);B.placeElement(v,r,n+j.theme_arrows_margin_top),n=B.getElementSize(v).bottom}}else v&&v.hide(),f&&f.getElement().hide();p.height(n)}function _(e,t){var n=(t=jQuery(t)).index();I.open(n)}function s(){if(!f)return!1;numPanes=T.getNumPanes(),f.updateNumBullets(numPanes),f.setActive(0)}function g(){var e=n();T.setWidth(e),T.run(),s(),setTimeout(l,500)}function _(e,t){t=jQuery(t);var n=L.getItemByTile(t).index;I.open(n)}function u(){v&&v.hide(),T&&T.getElement().hide(),w.fadeTo(0,1)}function d(){null!==j.theme_auto_open&&(I.open(j.theme_auto_open),j.theme_auto_open=null)}function h(){m.on(y.events.SIZE_CHANGE,g),m.on(y.events.GALLERY_BEFORE_REQUEST_ITEMS,u),f&&T.attachBullets(f),v&&(T.attachNextPaneButton(E),T.attachPrevPaneButton(b)),jQuery(L).on(L.events.TILE_CLICK,_),jQuery(I).on(I.events.LIGHTBOX_INIT,d)}var m,c,p,f,v,b,E,w,y=new UniteGalleryMain,T=new UGThumbsGrid,I=new UGLightbox,B=new UGFunctions,L=new UGTileDesign,j={theme_gallery_padding:0,theme_grid_align:"center",theme_navigation_type:"bullets",theme_arrows_margin_top:20,theme_space_between_arrows:5,theme_bullets_margin_top:40,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_bullets_color:"gray",theme_auto_open:null},G={gallery_width:"100%",tile_width:180,tile_height:150,grid_num_rows:3,grid_padding:10,tile_enable_border:!0,tile_enable_shadow:!0,tile_border_radius:2,grid_space_between_cols:20,grid_space_between_rows:20,grid_space_between_mobile:15,bullets_space_between:12,grid_vertical_scroll_ondrag:!0};this.destroy=function(){m.off(y.events.SIZE_CHANGE),m.off(y.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(L).off(L.events.TILE_CLICK),f&&jQuery(f).off(f.events.BULLET_CLICK),jQuery(I).off(I.events.LIGHTBOX_INIT),T.destroy(),I.destroy()},this.run=function(){r()},this.init=function(t,n){e(t,n)}}"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("tilesgrid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tilesgrid")});